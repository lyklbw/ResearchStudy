# Slam阅读笔记

## 第一章：前言

> `Simultaneous Localization and Mapping` 
>
> 同时定位与地图构建

**书本的核心内容：**

我们会提及SLAM 的历史、理论、算法、现状，并且把完整的SLAM 系统分成几个
模块：视觉里程计、后端优化、建图以及回环检测。我们将陪着读者一点点实现这些模块
中的核心部分，探讨它们在什么情况下有效，什么情况下会出问题，并指导您如何在自己
的机器上运行这些代码。您会接触到一些必要的数学理论和许多编程知识，会用到Eigen、
OpenCV、PCL、g2o、Ceres 等库¬，掌握它们在Linux 操作系统中的使用方法。

代码部分：

https://github.com/gaoxiang12/slambook

## 第二章：初始Slam

那些携带于机器人本体上的传感器，比如激光传感器、相机、轮式编码器、惯性测量单元，它们测到的通常都是一些间接的物理量而不是直接的位置数据。例如，轮式编码器会测到轮子转动的角度、IMU 测量运动的角速度和加速度，相机和激光则读取外部环境的某种观测数据。我们只能通过一些间接的手段，从这些数据推算自己的位置。虽然这听上去是一种迂回战术，但更明显的好处是，它没有对环境提出任何要求，使得这种定位方案**可适用于未知环境**。



**视觉slam使用相机作为主力传感器**

照片：以二维的形式反映了三维的世界，在这个过程丢掉了场景的一个维度：也就是所谓的深度（或距离）。这个距离将是SLAM 中非常关键的信息。由于我们人类见过大量的图像，养成了一种天生的直觉，对大部分场景都有一个直观的距离感（空间感）。

**单目相机**

由于单目相机只是三维空间的二维投影，所以，如果我们真想恢复三维结构，必须移动相机的视角。在单目SLAM 中也是同样的原理。我们必须移动相机之后，才能估计它的运动（Motion），同时估计场景中物体的远近和大小，不妨称之为结构（Structure）

我们知道近处的物体移动快，远处的物体则运动缓慢。于是，当相机移动时，这些物体在图像上的运动，形成了视差。通过视差，我们就能定量地判断哪些物体离得远，哪些物体离的近。

如果把相机的运动和场景大小同时放大两倍，单目所看到的像是一样的。同样的，把这个大小乘以任意倍数，我们都将看到一样的景象。所以单目SLAM 估计的轨迹和地图，将与真实的轨迹、地图，相差一个因子，也就是所谓的尺度，由于单目SLAM 无法仅凭图像确定这个真实尺度，所以又称为尺度不确定性。

**双目相机和深度相机**

**双目相机**

双目相机由两个单目相机组成，但这两个相机之间的距离（称为基线（Baseline））是已知的。但是计算机上的双目相机需要大量的计算才能（不太可靠地）估计每一个像素点的深度。双目相机测量到的深度范围与基线相关。基线距离越大，能够测量到的就越远

双目或多目相机的缺点是配置与标定均较为复杂，其深度量程和精度受双目的基线与分辨率限制，而且视差的计算非常消耗计算资源

**深度相机**

> 又称RGB-D 相机

它最大的特点是可以通过红外结构光或Time-of-Flight（ToF）原理，像激光传感器那样，通过主动向物体发射光并接收返回的光，测出物体离相机的距离。

不过，现在多数RGB-D 相机还存在测量范围窄、噪声大、视野小、易受日光干扰、无法测量透射材质等诸多问题，在SLAM 方面，主要用于室内SLAM，室外则较难应用。



**SLAM框架**

**流程视图**

<img src="C:\Users\15129\AppData\Roaming\Typora\typora-user-images\image-20231112002657992.png" alt="image-20231112002657992" style="zoom:50%;" />

**基本解释**

1.传感器信息读取。在视觉SLAM 中主要为相机图像信息的读取和预处理。如果在机
器人中，还可能有码盘、惯性传感器等信息的读取和同步。

2.视觉里程计(Visual Odometry, VO)。视觉里程计任务是估算相邻图像间相机的运动，
以及局部地图的样子。VO 又称为前端（Front End）。

3.后端优化（Optimization）。后端接受不同时刻视觉里程计测量的相机位姿，以及回
环检测的信息，对它们进行优化，得到全局一致的轨迹和地图。由于接在VO 之后，
又称为后端（Back End）

4.回环检测（Loop Closing）。回环检测判断机器人是否曾经到达过先前的位置。如果
检测到回环，它会把信息提供给后端进行处理。

5.建图（Mapping）。它根据估计的轨迹，建立与任务要求对应的地图



